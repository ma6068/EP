-- MySQL Script generated by MySQL Workbench
-- pon 16 dec 2019 23:00:12 CET
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema baza
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema baza
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `baza` DEFAULT CHARACTER SET utf8 ;
USE `baza` ;

-- -----------------------------------------------------
-- Table `baza`.`naslov`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baza`.`naslov` ;

CREATE TABLE IF NOT EXISTS `baza`.`naslov` (
  `id_naslov` INT(11) NOT NULL,
  `postna_stevilka` INT(20) NOT NULL,
  `mesto` VARCHAR(45) NOT NULL,
  `ulica` VARCHAR(45) NOT NULL,
  `hisna_stevilka` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_naslov`),
  UNIQUE INDEX `id_naslov_UNIQUE` (`id_naslov` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baza`.`uporabnik`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baza`.`uporabnik` ;

CREATE TABLE IF NOT EXISTS `baza`.`uporabnik` (
  `id_uporabnik` INT(11) NOT NULL,
  `ime` VARCHAR(45) NOT NULL,
  `priimek` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `geslo` VARCHAR(45) NOT NULL,
  `telefon` VARCHAR(45) NULL,
  `status` VARCHAR(45) NOT NULL,
  `uloga` VARCHAR(45) NOT NULL,
  `fk_id_naslov` INT(11) NULL,
  PRIMARY KEY (`id_uporabnik`),
  UNIQUE INDEX `id_uporabnik_UNIQUE` (`id_uporabnik` ASC),
  INDEX `fk_uporabnik_naslov_idx` (`fk_id_naslov` ASC),
  CONSTRAINT `fk_id_naslov`
    FOREIGN KEY (`fk_id_naslov`)
    REFERENCES `baza`.`naslov` (`id_naslov`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baza`.`kosarica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baza`.`kosarica` ;

CREATE TABLE IF NOT EXISTS `baza`.`kosarica` (
  `id_kosarica` INT(11) NOT NULL,
  `datum` DATETIME NOT NULL,
  `status` VARCHAR(45) NOT NULL,
  `fk_id_uporabnik` INT(11) NOT NULL,
  UNIQUE INDEX `id_narocilo_UNIQUE` (`id_kosarica` ASC),
  PRIMARY KEY (`id_kosarica`),
  INDEX `fk_narocilo_uporabnik1_idx` (`fk_id_uporabnik` ASC),
  CONSTRAINT `fk_id_uporabnik`
    FOREIGN KEY (`fk_id_uporabnik`)
    REFERENCES `baza`.`uporabnik` (`id_uporabnik`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baza`.`avto`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baza`.`avto` ;

CREATE TABLE IF NOT EXISTS `baza`.`avto` (
  `id_avto` INT(11) NOT NULL,
  `marka` VARCHAR(45) NOT NULL,
  `cena` INT(20) NOT NULL,
  `slika` VARCHAR(100) NOT NULL DEFAULT '',
  `aktiven` INT(1) NOT NULL,
  PRIMARY KEY (`id_avto`),
  UNIQUE INDEX `id_avto_UNIQUE` (`id_avto` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baza`.`narocen_avto`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baza`.`narocen_avto` ;

CREATE TABLE IF NOT EXISTS `baza`.`narocen_avto` (
  `kolicina` INT(11) NOT NULL,
  `fk_id_kosarica` INT(11) NOT NULL,
  `fk_id_avto` INT(11) NOT NULL,
  INDEX `fk_narocen_avto_avto1_idx` (`fk_id_avto` ASC),
  CONSTRAINT `fk_id_kosarica`
    FOREIGN KEY (`fk_id_kosarica`)
    REFERENCES `baza`.`kosarica` (`id_kosarica`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_id_avto`
    FOREIGN KEY (`fk_id_avto`)
    REFERENCES `baza`.`avto` (`id_avto`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `baza`.`naslov`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baza`.`naslov` ;

CREATE TABLE IF NOT EXISTS `baza`.`naslov` (
  `id_naslov` INT(11) NOT NULL,
  `postna_stevilka` INT(20) NOT NULL,
  `mesto` VARCHAR(45) NOT NULL,
  `ulica` VARCHAR(45) NOT NULL,
  `hisna_stevilka` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_naslov`),
  UNIQUE INDEX `id_naslov_UNIQUE` (`id_naslov` ASC))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `baza`.`naslov`
-- -----------------------------------------------------
START TRANSACTION;
USE `baza`;
INSERT INTO `baza`.`naslov` (`id_naslov`, `postna_stevilka`, `mesto`, `ulica`, `hisna_stevilka`) VALUES (1, 1000, 'Ljubljana', 'Kolajbova', '22');
INSERT INTO `baza`.`naslov` (`id_naslov`, `postna_stevilka`, `mesto`, `ulica`, `hisna_stevilka`) VALUES (2, 1000, 'Ljubljana', 'Neubergerjeva', '21');
INSERT INTO `baza`.`naslov` (`id_naslov`, `postna_stevilka`, `mesto`, `ulica`, `hisna_stevilka`) VALUES (3, 1000, 'Ljubljana', 'Dvorakova', '6');
INSERT INTO `baza`.`naslov` (`id_naslov`, `postna_stevilka`, `mesto`, `ulica`, `hisna_stevilka`) VALUES (4, 1000, 'Ljubljana', 'Vecna Pot', '113');
INSERT INTO `baza`.`naslov` (`id_naslov`, `postna_stevilka`, `mesto`, `ulica`, `hisna_stevilka`) VALUES (5, 2000, 'Maribor', 'Titova cesta', '7');
INSERT INTO `baza`.`naslov` (`id_naslov`, `postna_stevilka`, `mesto`, `ulica`, `hisna_stevilka`) VALUES (6, 2000, 'Maribor', 'Pobreska cesta', '52');
INSERT INTO `baza`.`naslov` (`id_naslov`, `postna_stevilka`, `mesto`, `ulica`, `hisna_stevilka`) VALUES (7, 3000, 'Kranj', 'Jezerska cesta', '85');

COMMIT;


-- -----------------------------------------------------
-- Data for table `baza`.`uporabnik`
-- -----------------------------------------------------
START TRANSACTION;
USE `baza`;
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (1, 'Admin', 'Admin', 'admin@gmail.com', 'Admin123', NULL, 'aktiven', 'admin', NULL);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (2, 'Emil', 'Batakliev', 'emil@gmail.com', 'Emil123', NULL, 'aktiven', 'prodajalec', NULL);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (3, 'Maja', 'Nikoloska', 'maja@gmail.com', 'Maja123', NULL, 'blokiran', 'prodajalec', NULL);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (4, 'Martin', 'Arsovski', 'martin@gmail.com', 'Martin123', NULL, 'aktiven', 'prodajalec', NULL);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (5, 'Luka', 'Doncic', 'luka@gmail.com', 'Luka123', '030123456', 'aktiven', 'stranka', 1);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (6, 'Goran', 'Dragic', 'goran@gmail.com', 'Goran123', '070123123', 'aktiven', 'stranka', 2);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (7, 'Zoran', 'Dragic', 'zoran@gmail.com', 'Zoran123', '031456789', 'blokiran', 'stranka', 3);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (8, 'Janez', 'Novak', 'janez@gmail.com', 'Janez123', '070567890', 'aktiven', 'stranka', 4);
INSERT INTO `baza`.`uporabnik` (`id_uporabnik`, `ime`, `priimek`, `email`, `geslo`, `telefon`, `status`, `uloga`, `fk_id_naslov`) VALUES (9, 'Ana', 'Novak', 'ana@gmail.com', 'Ana123', '050123123', 'aktiven', 'stranka', 5);

COMMIT;


-- -----------------------------------------------------
-- Data for table `baza`.`kosarica`
-- -----------------------------------------------------
START TRANSACTION;
USE `baza`;
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (1, '2019-12-16 17:09:09', 'potrjeno', 5);
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (2, '2020-01-05 20:33:54', 'neobdelano', 5);
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (3, '2019-10-30 18:53:09', 'stornirano', 7);
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (4, '2019-06-01 10:22:42', 'potrjeno', 6);
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (5, '2019-11-27 14:21:19', 'preklicano', 8);
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (6, '2019-03-23 23:12:51', 'potrjeno', 9);
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (7, '2020-01-17 07:12:02', 'neobdelano', 7);
INSERT INTO `baza`.`kosarica` (`id_kosarica`, `datum`, `status`, `fk_id_uporabnik`) VALUES (8, '2020-01-10 09:15:32', 'neobdelano', 9);

COMMIT;


-- -----------------------------------------------------
-- Data for table `baza`.`avto`
-- -----------------------------------------------------
START TRANSACTION;
USE `baza`;
INSERT INTO `baza`.`avto` (`id_avto`, `marka`, `cena`, `slika`, `aktiven`) VALUES (1, 'ferrari', 750250, 'ferrari.png', 1);
INSERT INTO `baza`.`avto` (`id_avto`, `marka`, `cena`, `slika`, `aktiven`) VALUES (2, 'lamborghini', 645250, 'lamborghini.png', 1);
INSERT INTO `baza`.`avto` (`id_avto`, `marka`, `cena`, `slika`, `aktiven`) VALUES (3, 'bmw', 95000, 'bmw.png', 1);
INSERT INTO `baza`.`avto` (`id_avto`, `marka`, `cena`, `slika`, `aktiven`) VALUES (4, 'mercedes', 89000, 'mercedes.png', 1);
INSERT INTO `baza`.`avto` (`id_avto`, `marka`, `cena`, `slika`, `aktiven`) VALUES (5, 'honda', 25000, 'honda.png', 1);
INSERT INTO `baza`.`avto` (`id_avto`, `marka`, `cena`, `slika`, `aktiven`) VALUES (6, 'opel', 20000, 'opel.png', 1);
INSERT INTO `baza`.`avto` (`id_avto`, `marka`, `cena`, `slika`, `aktiven`) VALUES (7, 'hyundai', 12000, 'hyundai.png', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `baza`.`narocen_avto`
-- -----------------------------------------------------
START TRANSACTION;
USE `baza`;
INSERT INTO `baza`.`narocen_avto` (`kolicina`, `fk_id_kosarica`, `fk_id_avto`) VALUES (1, 2, 1);
INSERT INTO `baza`.`narocen_avto` (`kolicina`, `fk_id_kosarica`, `fk_id_avto`) VALUES (2, 7, 3);
INSERT INTO `baza`.`narocen_avto` (`kolicina`, `fk_id_kosarica`, `fk_id_avto`) VALUES (1, 8, 6);

COMMIT;

